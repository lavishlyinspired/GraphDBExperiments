@prefix : <http://lungkg.org/ontology#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#################################################
# Ontology
#################################################

:Ontology rdf:type owl:Ontology ;
    rdfs:label "Lung Cancer Decision Support Knowledge Graph Ontology" ;
    rdfs:comment "Ontology for lung cancer diagnosis, genomics, treatment recommendation and outcomes reasoning" .

#################################################
# Core Classes
#################################################

:Patient rdf:type owl:Class .
:Disease rdf:type owl:Class .
:LungCancer rdf:type owl:Class ;
    rdfs:subClassOf :Disease .

:Tumor rdf:type owl:Class .
:Stage rdf:type owl:Class .
:Histology rdf:type owl:Class .

:Biomarker rdf:type owl:Class .
:Mutation rdf:type owl:Class .
:Gene rdf:type owl:Class .

:Test rdf:type owl:Class .
:Imaging rdf:type owl:Class ; rdfs:subClassOf :Test .
:Pathology rdf:type owl:Class ; rdfs:subClassOf :Test .
:GenomicTest rdf:type owl:Class ; rdfs:subClassOf :Test .

:Therapy rdf:type owl:Class .
:Drug rdf:type owl:Class .
:Chemotherapy rdf:type owl:Class ; rdfs:subClassOf :Therapy .
:TargetedTherapy rdf:type owl:Class ; rdfs:subClassOf :Therapy .
:Immunotherapy rdf:type owl:Class ; rdfs:subClassOf :Therapy .
:Surgery rdf:type owl:Class ; rdfs:subClassOf :Therapy .

:Outcome rdf:type owl:Class .
:Guideline rdf:type owl:Class .
:ClinicalRule rdf:type owl:Class .

#################################################
# Datatype Properties
#################################################

:patientId rdf:type owl:DatatypeProperty ;
    rdfs:domain :Patient ;
    rdfs:range xsd:string .

:age rdf:type owl:DatatypeProperty ;
    rdfs:domain :Patient ;
    rdfs:range xsd:integer .

:sex rdf:type owl:DatatypeProperty ;
    rdfs:domain :Patient ;
    rdfs:range xsd:string .

:smokingPackYears rdf:type owl:DatatypeProperty ;
    rdfs:domain :Patient ;
    rdfs:range xsd:float .

:stageName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Stage ;
    rdfs:range xsd:string .

:histologyName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Histology ;
    rdfs:range xsd:string .

:geneName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Gene ;
    rdfs:range xsd:string .

:drugName rdf:type owl:DatatypeProperty ;
    rdfs:domain :Drug ;
    rdfs:range xsd:string .

:responseType rdf:type owl:DatatypeProperty ;
    rdfs:domain :Outcome ;
    rdfs:range xsd:string .

:survivalMonths rdf:type owl:DatatypeProperty ;
    rdfs:domain :Outcome ;
    rdfs:range xsd:float .

#################################################
# Object Properties
#################################################

:diagnosedWith rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Disease .

:hasTumor rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Tumor .

:hasStage rdf:type owl:ObjectProperty ;
    rdfs:domain :Tumor ;
    rdfs:range :Stage .

:hasHistology rdf:type owl:ObjectProperty ;
    rdfs:domain :Tumor ;
    rdfs:range :Histology .

:underwentTest rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Test .

:testedForBiomarker rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Biomarker .

:hasGene rdf:type owl:ObjectProperty ;
    rdfs:domain :Biomarker ;
    rdfs:range :Gene .

:hasMutation rdf:type owl:ObjectProperty ;
    rdfs:domain :Biomarker ;
    rdfs:range :Mutation .

:receivedTherapy rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Therapy .

:usesDrug rdf:type owl:ObjectProperty ;
    rdfs:domain :Therapy ;
    rdfs:range :Drug .

:hasOutcome rdf:type owl:ObjectProperty ;
    rdfs:domain :Patient ;
    rdfs:range :Outcome .

:recommends rdf:type owl:ObjectProperty ;
    rdfs:domain :Guideline ;
    rdfs:range :Therapy .

:triggers rdf:type owl:ObjectProperty ;
    rdfs:domain :ClinicalRule ;
    rdfs:range :Therapy .

#################################################
# DSS Rule Examples (optional individuals)
#################################################

:EGFR_Guideline rdf:type :Guideline ;
    rdfs:label "EGFR positive â†’ Osimertinib" .

:Osimertinib rdf:type :Drug ;
    :drugName "Osimertinib" .

:EGFR_Targeted_Therapy rdf:type :TargetedTherapy ;
    :usesDrug :Osimertinib .

:EGFR_Guideline :recommends :EGFR_Targeted_Therapy .

#################################################
# Stage Instances (optional controlled vocabulary)
#################################################

:Stage_I rdf:type :Stage ; :stageName "I" .
:Stage_II rdf:type :Stage ; :stageName "II" .
:Stage_III rdf:type :Stage ; :stageName "III" .
:Stage_IV rdf:type :Stage ; :stageName "IV" .
